"use strict";(self.webpackChunkcredo_ts_docs=self.webpackChunkcredo_ts_docs||[]).push([[1232],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=u(n),h=i,g=c["".concat(l,".").concat(h)]||c[h]||p[h]||s;return n?r.createElement(g,a(a({ref:t},d),{},{components:n})):r.createElement(g,a({ref:t},d))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,a=new Array(s);a[0]=h;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:i,a[1]=o;for(var u=2;u<s;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},36517:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var r=n(87462),i=(n(67294),n(3905));const s={},a="Issuing Credentials using the OpenID4VC Issuer Module",o={unversionedId:"tutorials/openid4vc/issuing-credentials-using-openid4vc-issuer-module",id:"tutorials/openid4vc/issuing-credentials-using-openid4vc-issuer-module",title:"Issuing Credentials using the OpenID4VC Issuer Module",description:"This tutorial will guide you through the process of issuing credentials using the OpenID4VC Issuer Module. Before starting this tutorial, make sure you have completed the OpenID4VC Issuer Module Setup.",source:"@site/guides/tutorials/openid4vc/issuing-credentials-using-openid4vc-issuer-module.md",sourceDirName:"tutorials/openid4vc",slug:"/tutorials/openid4vc/issuing-credentials-using-openid4vc-issuer-module",permalink:"/guides/tutorials/openid4vc/issuing-credentials-using-openid4vc-issuer-module",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"OpenID for Verifiable Credentials Tutorials",permalink:"/guides/tutorials/openid4vc/"},next:{title:"Receiving and Proving Credentials using the OpenID4VC Holder Module",permalink:"/guides/tutorials/openid4vc/receiving-and-proving-credentials-using-openid4vc-holder-module"}},l={},u=[{value:"Creating the issuer",id:"creating-the-issuer",level:2},{value:"Creating a credential offer",id:"creating-a-credential-offer",level:2},{value:"Implementing the credential mapper",id:"implementing-the-credential-mapper",level:2}],d={toc:u},c="wrapper";function p(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"issuing-credentials-using-the-openid4vc-issuer-module"},"Issuing Credentials using the OpenID4VC Issuer Module"),(0,i.kt)("p",null,"This tutorial will guide you through the process of issuing credentials using the OpenID4VC Issuer Module. Before starting this tutorial, make sure you have completed the ",(0,i.kt)("a",{parentName:"p",href:"/guides/getting-started/set-up/openid4vc"},"OpenID4VC Issuer Module Setup"),"."),(0,i.kt)("p",null,"This guides only covers the issuance of credentials using the OpenID4VC Issuer Module. Follow the ",(0,i.kt)("a",{parentName:"p",href:"/guides/tutorials/openid4vc/receiving-and-proving-credentials-using-openid4vc-holder-module"},"Receiving and Proving Credentials using the OpenID4VC Holder Module")," guide to learn how to receive and prove credentials using the OpenID4VC Holder Module."),(0,i.kt)("h2",{id:"creating-the-issuer"},"Creating the issuer"),(0,i.kt)("p",null,"Once you have set-up your agent (under ",(0,i.kt)("inlineCode",{parentName:"p"},"issuer")," variable), we first need to configure your issuer and the credentials you want to issue."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers sd-jwt-vc-openid4vc.ts section-2",showLineNumbers:!0,"sd-jwt-vc-openid4vc.ts":!0,"section-2":!0},"")),(0,i.kt)("p",null,"If you want to update the display metadata or the credentials supported by the issuer, you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"issuer.modules.openId4VcIssuer.updateIssuer")," method."),(0,i.kt)("h2",{id:"creating-a-credential-offer"},"Creating a credential offer"),(0,i.kt)("p",null,"Once you have configured the issuer, you can create a credential offer. The credential offer method will generate a credential offer URI that you can share with a holder."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers sd-jwt-vc-openid4vc.ts section-3",showLineNumbers:!0,"sd-jwt-vc-openid4vc.ts":!0,"section-3":!0},"")),(0,i.kt)("p",null,"We have also added an event listener that listens for state changed events, this allows us to know when the issuance session is done."),(0,i.kt)("h2",{id:"implementing-the-credential-mapper"},"Implementing the credential mapper"),(0,i.kt)("p",null,"The OpenID4VC Issuer Module setup didn't cover the implementation of the ",(0,i.kt)("inlineCode",{parentName:"p"},"credentialRequestToCredentialMapper")," yet. When you create a credential offer with the OpenID4VC Issuer Module in Credo, you don't have to provide the credential data directly."),(0,i.kt)("p",null,"Instead, you provide a ",(0,i.kt)("inlineCode",{parentName:"p"},"credentialRequestToCredentialMapper")," function in the agent configuration, that will be called when the holder requests the credential."),(0,i.kt)("p",null,"This allows you to dynamically generate the credential data based on the holder's request, and means you also don't have to store any credential data in the agent."),(0,i.kt)("p",null,"Below is an example ",(0,i.kt)("inlineCode",{parentName:"p"},"credentialRequestToCredentialMapper")," function that generates a credential based on the holder's request. Make sure to register this function in the agent configuration ",(0,i.kt)("inlineCode",{parentName:"p"},"modules.openId4VcIssuer.endpoints.credential.credentialsRequestToCredentialMapper"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers sd-jwt-vc-openid4vc.ts section-4",showLineNumbers:!0,"sd-jwt-vc-openid4vc.ts":!0,"section-4":!0},"")))}p.isMDXComponent=!0}}]);