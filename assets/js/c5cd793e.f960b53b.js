"use strict";(self.webpackChunkcredo_ts_docs=self.webpackChunkcredo_ts_docs||[]).push([[8925],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=i.createContext({}),l=function(e){var t=i.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return i.createElement(d.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,d=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=l(n),m=r,g=p["".concat(d,".").concat(m)]||p[m]||u[m]||a;return n?i.createElement(g,s(s({ref:t},c),{},{components:n})):i.createElement(g,s({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=m;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o[p]="string"==typeof e?e:r,s[1]=o;for(var l=2;l<a;l++)s[l]=n[l];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2290:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var i=n(7462),r=(n(7294),n(3905));const a={},s="Registering a schema and credential definition on an AnonCreds Registry",o={unversionedId:"tutorials/registering-schema-and-credential-definition",id:"version-0.4/tutorials/registering-schema-and-credential-definition",title:"Registering a schema and credential definition on an AnonCreds Registry",description:"In this tutorial we will register a schema and credential definition on an AnonCredsRegistry e.g. Hyperledger Indy ledger indy-vdr, cheqd.",source:"@site/versioned_docs/version-0.4/tutorials/registering-schema-and-credential-definition.md",sourceDirName:"tutorials",slug:"/tutorials/registering-schema-and-credential-definition",permalink:"/guides/0.4/tutorials/registering-schema-and-credential-definition",draft:!1,tags:[],version:"0.4",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Cheqd Did Module",permalink:"/guides/0.4/tutorials/cheqd/"},next:{title:"Issue a credential",permalink:"/guides/0.4/tutorials/issue-a-credential"}},d={},l=[{value:"1. Setting up the agent",id:"1-setting-up-the-agent",level:3},{value:"2. Importing a DID (optional)",id:"2-importing-a-did-optional",level:3},{value:"3. Registering a schema",id:"3-registering-a-schema",level:3},{value:"3. Registering a credential definition",id:"3-registering-a-credential-definition",level:3},{value:"Using it",id:"using-it",level:3},{value:"Useful Resources",id:"useful-resources",level:3}],c={toc:l},p="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"registering-a-schema-and-credential-definition-on-an-anoncreds-registry"},"Registering a schema and credential definition on an AnonCreds Registry"),(0,r.kt)("p",null,"In this tutorial we will register a schema and credential definition on an AnonCredsRegistry e.g. Hyperledger Indy ledger ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/hyperledger/indy-vdr"},"indy-vdr"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/hyperledger/aries-framework-javascript/packages/cheqd"},"cheqd"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This section assumes that"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"You have ",(0,r.kt)("a",{parentName:"li",href:"../getting-started"},"set-up your development environment"),"."),(0,r.kt)("li",{parentName:"ol"},"You have basic knowledge of the required fields in the ",(0,r.kt)("a",{parentName:"li",href:"./agent-config"},"Agent Config")))),(0,r.kt)("h3",{id:"1-setting-up-the-agent"},"1. Setting up the agent"),(0,r.kt)("p",null,"First, an agent must be setup with a wallet and an indy-vdr or cheqd module. For these code examples, we will use a Node.js environment."),(0,r.kt)("admonition",{type:"issuer"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers register-schema-and-cred-def.ts section-1",showLineNumbers:!0,"register-schema-and-cred-def.ts":!0,"section-1":!0},""))),(0,r.kt)("h3",{id:"2-importing-a-did-optional"},"2. Importing a DID (optional)"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"There are many ledgers which can be used to register DIDs on for development."),(0,r.kt)("h4",{parentName:"admonition",id:"indy-vdr"},"Indy VDR"),(0,r.kt)("p",{parentName:"admonition"},"We recommend ",(0,r.kt)("a",{parentName:"p",href:"http://test.bcovrin.vonx.io/"},"bcovrin test net"),". This network allows very easily to register a DID from a seed which can then be used as the ",(0,r.kt)("inlineCode",{parentName:"p"},"privateKey")," in the snippet below. The seed is used as the private key for legacy compatibility with the Hyperledger Indy-SDK. The ",(0,r.kt)("a",{parentName:"p",href:"http://test.bcovrin.vonx.io/genesis"},"genesis transactions")," can also be retrieved for easy integration."),(0,r.kt)("h4",{parentName:"admonition",id:"cheqd"},"Cheqd"),(0,r.kt)("p",{parentName:"admonition"},"Follow the ",(0,r.kt)("a",{parentName:"p",href:"/guides/0.4/getting-started/set-up/cheqd/"},"cheqd setup")," and ",(0,r.kt)("a",{parentName:"p",href:"/guides/0.4/tutorials/cheqd/"},"cheqd DID module")," to setup the network and create a DID. Cheqd supports a mainnet for production and a testnet for development purposes.")),(0,r.kt)("p",null,"In order to register a schema and credential definition, a DID must be added to the agent first. This can be done by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"agent.dids.create()"),", but this does require an endorser DID to be present as the ",(0,r.kt)("inlineCode",{parentName:"p"},"submitterDid"),". For this tutorial a DID will already be registered on the ledger, but it will be imported, with the associated private key, to be used later when registering the schema and credential definition."),(0,r.kt)("p",null,"This section can be omitted if your agent already has a DID in its wallet."),(0,r.kt)("admonition",{type:"issuer"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers register-schema-and-cred-def.ts section-2",showLineNumbers:!0,"register-schema-and-cred-def.ts":!0,"section-2":!0},""))),(0,r.kt)("h3",{id:"3-registering-a-schema"},"3. Registering a schema"),(0,r.kt)("p",null,"When you have a registered DID on a network and in your wallet, you can register a schema. Registering a schema requires four fields: ",(0,r.kt)("inlineCode",{parentName:"p"},"issuerId"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"attrNames"),". It is important to note that the ",(0,r.kt)("inlineCode",{parentName:"p"},"issuerId")," must be the same as a DID in your wallet."),(0,r.kt)("admonition",{type:"issuer"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers register-schema-and-cred-def.ts section-3",showLineNumbers:!0,"register-schema-and-cred-def.ts":!0,"section-3":!0},""))),(0,r.kt)("h3",{id:"3-registering-a-credential-definition"},"3. Registering a credential definition"),(0,r.kt)("p",null,"After registering a schema, a credential definition can be registered based on the schema. The credential definition, amongst more things, binds the schema to a specific issuer. Schemas can be reused between issuers, but a credential definition is specific to an issuer. In a credential definition revocation can also be specified. This section will not go in-depth about revocation."),(0,r.kt)("admonition",{type:"issuer"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"showLineNumbers register-schema-and-cred-def.ts section-4",showLineNumbers:!0,"register-schema-and-cred-def.ts":!0,"section-4":!0},""))),(0,r.kt)("h3",{id:"using-it"},"Using it"),(0,r.kt)("p",null,"After everything is registered on a AnonCredsRegistry, we can use it to issue credentials. The next tutorial is all about issuing an AnonCreds credential with this setup."),(0,r.kt)("h3",{id:"useful-resources"},"Useful Resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.cheqd.io/identity/guides/anoncreds"},"Cheqd AnonCreds Specification"))))}u.isMDXComponent=!0}}]);